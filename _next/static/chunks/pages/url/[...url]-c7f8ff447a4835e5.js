(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{50415:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/url/[...url]",function(){return r(85293)}])},85293:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return eQ},default:function(){return eY}});var n=r(85893),i=r(9008),l=r.n(i),a=r(29031),s=r(67294),o=r(11163),c=r(80405),d=r(88801),u=r(67361),m=r(62613),p=r(15198),x=r(23805),h=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let f=(0,s.memo)((0,s.forwardRef)((e,t)=>{let{id:r,className:n,label:i,classes:l={},tabs:a,selectedTabId:o,onTabChange:c,children:f,style:g}=e,b=h(e,["id","className","label","classes","tabs","selectedTabId","onTabChange","children","style"]);(0,m.assert)();let j=(0,x.t)({defaultIdPrefix:"fr-tabs",explicitlyProvidedId:r}),v=()=>{let e=a.findIndex(e=>{var t;return"content"in e?null!==(t=e.isDefault)&&void 0!==t&&t:e.tabId===o});return -1===e?0:e},y=s.useRef([]),[_,w]=(0,s.useState)(v);(0,s.useEffect)(()=>{void 0!==o&&w(v())},[o]);let k=function(e){let t=(0,s.useRef)(e);t.current=e;let r=(0,s.useRef)(void 0);return(0,s.useState)(()=>(0,p.id)(function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return void 0===r.current&&(r.current=function(e,t){let r=new Map,{argsLength:n=e.length,max:i=1/0}=null!=t?t:{};return function(){for(var t=arguments.length,l=Array(t),a=0;a<t;a++)l[a]=arguments[a];let s=JSON.stringify(l.slice(0,n).map(e=>{if(null===e)return"null";if(void 0===e)return"undefined";switch(typeof e){case"number":return"number-".concat(e);case"string":return"string-".concat(e);case"boolean":return"boolean-".concat(e?"true":"false")}}).join("-sIs9sAslOdeWlEdIos3-"));if(r.has(s))return r.get(s);if(i===r.size)for(let e of r.keys()){r.delete(e);break}let o=e(...l);return r.set(s,o),o}}(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.current(r,n)}},{argsLength:n.length})),r.current(...n)}))[0]}(e=>{let[t]=e;void 0===o?null==c||c({tabIndex:t,tab:a[t]}):c(a[t].tabId)}),S=e=>{var t,r;if(void 0!==o){let n=_;switch(e.key){case"ArrowRight":n=_<a.length-1?_+1:0;break;case"ArrowLeft":n=0===_?a.length-1:_-1;break;case"Home":n=0;break;case"End":n=a.length-1}null===(t=y.current[n])||void 0===t||t.click(),null===(r=y.current[n])||void 0===r||r.focus()}},{getPanelId:N,getTabId:I}=function(){let e=(0,s.useId)();return{getPanelId:t=>"tabpanel-".concat(e,"-").concat(t,"-panel"),getTabId:t=>"tabpanel-".concat(e,"-").concat(t)}}();return s.createElement("div",Object.assign({id:j,className:(0,u.cx)(d.fr.cx("fr-tabs"),n),ref:t,style:g},b),s.createElement("ul",{className:d.fr.cx("fr-tabs__list"),role:"tablist","aria-label":i,onKeyDownCapture:e=>S(e)},a.map((e,t)=>{let{label:r,iconId:n}=e;return s.createElement("li",{key:t,role:"presentation"},s.createElement("button",{ref:e=>y.current[t]=e,id:I(t),className:(0,u.cx)(d.fr.cx("fr-tabs__tab",n,"fr-tabs__tab--icon-left"),l.tab),tabIndex:t===_?0:-1,role:"tab","aria-selected":t===_,"aria-controls":N(t),onClick:k(t)},r))})),void 0===o?a.map((e,t)=>{let{content:r}=e;return s.createElement("div",{key:t,id:N(t),className:(0,u.cx)(d.fr.cx("fr-tabs__panel","fr-tabs__panel".concat(t===_?"--selected":"")),l.panel),role:"tabpanel","aria-labelledby":I(t),tabIndex:0},r)}):s.createElement("div",{id:N(_),className:(0,u.cx)(d.fr.cx("fr-tabs__panel","fr-tabs__panel--selected"),l.panel),role:"tabpanel","aria-labelledby":I(_),tabIndex:0},f))}));f.displayName=(0,c.r)({Tabs:f});var g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let b=(0,s.memo)((0,s.forwardRef)((e,t)=>{let{id:r,data:n,headers:i,caption:l,bordered:a=!1,noScroll:o=!1,fixed:c=!1,noCaption:p=!1,bottomCaption:h=!1,colorVariant:f,className:b,style:j}=e;g(e,["id","data","headers","caption","bordered","noScroll","fixed","noCaption","bottomCaption","colorVariant","className","style"]),(0,m.assert)();let v=(0,x.t)({defaultIdPrefix:"fr-table",explicitlyProvidedId:r});return s.createElement("div",{id:v,ref:t,style:j,className:(0,u.cx)(d.fr.cx("fr-table",{"fr-table--bordered":a,"fr-table--no-scroll":o,"fr-table--layout-fixed":c,"fr-table--no-caption":p,"fr-table--caption-bottom":h},void 0!==f&&"fr-table--".concat(f)),b)},s.createElement("table",null,void 0!==l&&s.createElement("caption",null,l),void 0!==i&&s.createElement("thead",null,s.createElement("tr",null,i.map((e,t)=>s.createElement("th",{key:t,scope:"col"},e)))),s.createElement("tbody",null,n.map((e,t)=>s.createElement("tr",{key:t},e.map((e,t)=>s.createElement("td",{key:t},e)))))))}));b.displayName=(0,c.r)({Table:b});var j=r(48323),v=r(83397),y=r(62319),_=r(24895),w=r(47726);let k=e=>{let t=e.score_modifier;return(0,n.jsx)(j.Z,{style:{width:100,textAlign:"center",display:"block"},noIcon:!0,severity:t<-50?"error":t<-30?"error":t<-20?"warning":t<-10?"info":"success",children:t})},S={"content-security-policy":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://owasp.org/www-community/controls/Content_Security_Policy",children:"Doc Content Security Policy"}),". L'extension"," ",(0,n.jsx)("a",{href:"https://github.com/april/laboratory",rel:"noopener noreferrer",target:"_blank",children:"github.com/april/laboratory"})," ","permet de g\xe9n\xe9rer la CSP pour votre application."]}),"x-frame-options":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://developer.mozilla.org/fr/docs/Web/HTTP/Headers/X-Frame-Options",children:"Doc header X-Frame-Options"}),"."]}),"strict-transport-security":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security",children:"Doc header Strict-Transport-Security (HSTS)"}),"."]}),"x-content-type-options":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://developer.mozilla.org/fr/docs/Web/HTTP/Headers/X-Content-Type-Options",children:"Doc header X-Content-Type-Options"}),"."]}),"x-xss-protection":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection",children:"Doc header X-XSS-Protection"}),"."]}),cookies:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://cheatsheetseries.owasp.org/cheatsheets/Session_Management_Cheat_Sheet.html#cookies",children:"OWASP Session Management Cheat Sheet"}),"."]}),"subresource-integrity":(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{rel:"noopener noreferrer",target:"_blank",href:"https://developer.mozilla.org/fr/docs/Web/Security/Subresource_Integrity",children:"Doc Subresource Integrity"}),"."]})},N=[{name:"impact",label:"Impact",render:e=>(0,n.jsx)(k,{...e})},{name:"score_description",label:"Description",render:e=>{let{score_description:t}=e;return t}},{name:"documentation",label:"Documentation",render:e=>{let{name:t}=e;return S[t]||"-"}}],I=e=>{let{data:t}=e;if(!t.url)return null;let r=t&&"https://developer.mozilla.org/fr/observatory/analyze?host=".concat((0,v.p5)(t.url.replace(/^(https?:\/\/[^/]+).*/,"$1")))||null,i=Object.keys(t.details).filter(e=>!t.details[e].pass).sort((e,r)=>t.details[e].score_modifier-t.details[r].score_modifier),l=[N.map(e=>e.label),...i.map(e=>N.map(r=>r.render?r.render(t.details[e]):r[e]))];return r?(0,n.jsxs)(y.s,{url:r,urlText:"Rapport d\xe9taill\xe9",isExternal:!0,title:(0,n.jsxs)("div",{children:["Mozilla HTTP observatory",(0,n.jsx)(w.h,{date:t.start_time,style:{verticalAlign:"middle",paddingLeft:10}})]}),children:[(0,n.jsxs)("div",{className:d.fr.cx("fr-text--bold"),children:["Scan Summary : ",(0,n.jsx)(_.zj,{label:t.grade})," "]}),l.length>1&&(0,n.jsx)(b,{data:l})||null]}):(0,n.jsx)(n.Fragment,{})};var A=r(25046);let T=e=>{let{className:t}=e;return(0,n.jsxs)("div",{className:t,children:["Moins de 25% des crit\xe8res d'accessibilit\xe9 peuvent \xeatre test\xe9s automatiquement, ",(0,n.jsx)("strong",{children:"une expertise manuelle est requise"}),".",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Ce score ne repr\xe9sente pas le score RGAA mais une partie des bonnes pratiques de base \xe0 appliquer."]})};var P=r(34728),C=r.n(P);let F=e=>{let{children:t,title:r,value:i}=e;return(0,n.jsxs)("div",{style:{textAlign:"center"},children:[t,r&&(0,n.jsx)("div",{className:d.fr.cx("fr-text--lead"),style:{fontSize:"1.2em"},children:r}),i&&(0,n.jsx)("div",{className:d.fr.cx("fr-mt-1w","fr-text--heavy"),style:{fontSize:"2em"},children:i})]})},Z=e=>{let t=0,r=0,n=e;return(n>6e4&&(t=Math.floor(n/6e4),n-=6e4*t),n>1e3&&(r=Math.floor(n/1e3),n-=1e3*r),t>0)?"".concat(t,"min ").concat((r/100).toFixed(),"s"):"".concat(r,".").concat((n/100).toFixed(),"s")},E=e=>{let t=0,r=0,n=e;return(n>1e6&&(t=Math.floor(n/1e6),n-=1e6*t),n>1e3&&(r=Math.floor(n/1e3),n-=1e3*r),t>0)?"".concat(t,".").concat((r/100).toFixed(),"Mb"):"".concat(r,".").concat((n/100).toFixed(),"Kb")},O=e=>{let{data:t,url:r}=e,i=Array.isArray(t)&&t||[t].filter(e=>!!e.audits.metrics.details),l=["accessibility","performance","seo","best-practices"];return(0,n.jsxs)(y.s,{title:"LightHouse",info:"Informations collect\xe9es par l'outil Google LightHouse",children:[(0,n.jsx)("div",{className:d.fr.cx("fr-grid-row"),children:(0,n.jsx)("div",{className:d.fr.cx("fr-col-12"),children:(0,n.jsx)(T,{className:C().accesibility})})}),i.map(e=>{let t={"First contentful Paint":e.audits.metrics.details&&e.audits.metrics.details.items&&Z(e.audits.metrics.details.items[0].firstContentfulPaint),"Time to interactive":e.audits.metrics.details&&e.audits.metrics.details.items&&Z(e.audits.metrics.details.items[0].interactive),"Total requests":e.audits.diagnostics.details&&e.audits.diagnostics.details.items&&e.audits.diagnostics.details.items[0].numRequests,"Total weight":e.audits.diagnostics.details&&e.audits.diagnostics.details.items&&E(e.audits.diagnostics.details.items[0].totalByteWeight)},i="".concat(r,"/lhr-").concat((0,v.r3)(e.requestedUrl),".html");return(0,n.jsxs)(y.s,{title:(0,n.jsxs)("div",{className:d.fr.cx("fr-mb-4w"),children:[e.requestedUrl,(0,n.jsx)(w.h,{date:e.fetchTime,style:{verticalAlign:"middle",paddingLeft:10}})]}),titleAs:"h3",info:"Informations collect\xe9es par l'outil Google LightHouse",urlText:"Rapport LightHouse",url:i,isExternal:!0,children:[(0,n.jsx)("div",{className:d.fr.cx("fr-grid-row"),children:l.map(t=>{let r=e.categories[t],i=r.score;return!Number.isNaN(i)&&(0,n.jsx)("div",{className:d.fr.cx("fr-col-sm-12","fr-col-md-6","fr-col-lg-3","fr-mb-2w"),children:(0,n.jsx)(F,{title:r.title,value:"".concat((100*i).toFixed(),"%"),children:(0,n.jsx)(A.a,{width:200,height:140,value:100*i,style:{margin:10},minValue:0,maxValue:100,segments:3,currentValueText:""})})},r.id)||null})}),(0,n.jsx)("div",{className:d.fr.cx("fr-grid-row"),children:Object.keys(t).map(e=>(0,n.jsx)("div",{className:d.fr.cx("fr-col-sm-12","fr-col-md-6","fr-col-lg-3","fr-mb-2w"),children:(0,n.jsx)(F,{title:e,value:t[e]})},e))})]},e.requestedUrl)})]})},L=e=>{let t=e.info&&e.info.severity||"critical";return(0,n.jsx)(j.Z,{className:"w-100",severity:"critical"===t?"error":"high"===t?"error":"medium"===t?"warning":"low"===t?"info":"success",children:t})},D="info,low,medium,high,critical".split(","),R=(e,t)=>D.indexOf(e.info.severity)-D.indexOf(t.info.severity),z=[{name:"severity",label:"S\xe9verit\xe9",render:e=>(0,n.jsx)(L,{...e})},{name:"name",label:"Name",render:e=>{let{info:t}=e;return t.name}},{name:"matcher-name",label:"Matcher",render:e=>(0,n.jsx)("a",{href:e["template-url"],target:"_blank",rel:"noopener noreferrer",children:e["matcher-name"]||e["template-id"]})}],M=e=>{let{data:t}=e;t.sort(R);let r=[z.map(e=>e.label),...t.map(e=>z.map(t=>t.render(e)))],i=t.length&&t[0].timestamp;return t.length&&(0,n.jsx)(y.s,{title:(0,n.jsxs)("div",{children:["Nuclei",(0,n.jsx)(w.h,{date:i,style:{verticalAlign:"middle",paddingLeft:10}})]}),info:"D\xe9tection d'erreurs de configuration et vuln\xe9rabilit\xe9s",children:(0,n.jsx)(b,{data:r})})||null},V=(e,t)=>{let r=parseInt(t.riskcode)-parseInt(e.riskcode);return 0===r?parseInt(t.confidence)-parseInt(e.confidence):r},q=e=>{let t=e.riskcode;return(0,n.jsx)(j.Z,{className:"w-100",severity:"0"===t?"info":"1"===t?"info":"2"===t?"warning":"3"===t?"error":"info",children:e.riskdesc})},H=[{name:"risk",label:"Risk/Confidence",render:e=>(0,n.jsx)(q,{...e})},{name:"name",label:"Name"}],U=e=>{let{data:t,url:r}=e,i=t&&t.site&&t.site.flatMap(e=>e.alerts)||[];i.sort(V);let l=[H.map(e=>e.name),...i.map(e=>H.map(t=>t.render?t.render(e):e[t.name]))];return i.length&&(0,n.jsx)(y.s,{isExternal:!0,title:(0,n.jsxs)("div",{children:["Scan OWASP",(0,n.jsx)(w.h,{date:t["@generated"],style:{verticalAlign:"middle",paddingLeft:10}})]}),url:r,urlText:"Rapport d\xe9taill\xe9",info:"Scan passif de vuln\xe9rabili\xe9s ZAP OWASP baseline",children:(0,n.jsx)(b,{data:l})})||null};var W=r(9289);let G=e=>(t,r)=>t[e]>r[e]?1:t[e]<r[e]?-1:0,X=["INFO","OK","LOW","MEDIUM","HIGH","CRITICAL"],B=e=>X.indexOf(e),K=e=>(t,r,n)=>!n.find((n,i)=>i<r&&n[e]===t[e]),$=e=>{let{data:t,url:r}=e,i=t.find(e=>"overall_grade"===e.id),l=t&&i&&i.finding;t.map(e=>({...e,severity_value:B(e.severity)})).sort(G("severity_value")).reverse();let s=t.filter(e=>0===e.id.indexOf("grade_cap_reason_")).reverse(),o=t.find(e=>"cert_notAfter"===e.id),c=t.find(e=>"intermediate_cert_notAfter <#1>"===e.id),u=null;o&&(u=c?Math.min(new Date(o.finding).getTime(),new Date(c.finding).getTime()):new Date(o.finding).getTime());let m=u&&new Date().getTime()+2592e6>u;return l&&(0,n.jsx)(y.s,{title:"SSL",info:"Informations sur la qualit\xe9 des certificats SSL via testssl.sh",url:r,urlText:"Rapport d\xe9taill\xe9",isExternal:!0,children:(0,n.jsx)("div",{className:d.fr.cx("fr-grid-row"),children:(0,n.jsxs)("div",{className:d.fr.cx("fr-col"),children:[(0,n.jsxs)("div",{className:d.fr.cx("fr-text--bold"),children:["Scan Summary : ",(0,n.jsx)(_.zj,{label:m?"F":l})]}),s.length>0&&(0,n.jsx)("br",{}),s.filter(K("finding")).map(e=>(0,n.jsx)(a.ZP,{severity:"info",title:e.finding},e.finding)),u&&(0,n.jsxs)("h4",{children:[(0,n.jsx)("br",{}),"Expiration : ",(0,W.Z)(u,"dd/MM/yyyy"),m&&(0,n.jsx)("i",{className:d.fr.cx("fr-ml-1w","fr-icon-warning-line"),title:"Le SSL arrive \xe0 expiration le ".concat((0,W.Z)(u,"dd/MM/yyyy"))})]})]})})})||null};var J=r(97235);let Q=[{name:"name",label:"Cookies"},{name:"domain",label:"Domaine"},{name:"httpOnly",label:"HTTP Only",render:e=>{let{httpOnly:t}=e;return t?"✔️":"❌"}},{name:"secure",label:"Secure",render:e=>{let{secure:t}=e;return t?"✔️":"❌"}}],Y=e=>{let{cookies:t}=e,r=[Q.map(e=>e.name),...t&&t.map(e=>Q.map(t=>t.render?t.render(e):e[t.name]))||[]];return t&&t.length&&(0,n.jsx)(b,{data:r})||null},ee=e=>(0,n.jsx)("a",{href:e,children:"".concat((0,v.p5)(e).substring(0,25),"...")}),et=[{name:"type",label:"Type"},{name:"url",label:"URL",render:e=>{let{url:t}=e;return ee(t)}},{name:"details",label:"Rem\xe9diation",render:e=>{let{details:t={}}=e;return t&&t.message}}],er=e=>{let{trackers:t}=e,r=[et.map(e=>e.name),...t&&t.map(e=>et.map(t=>t.render?t.render(e):e[t.name]))||[]];return t&&t.length&&(0,n.jsx)(b,{data:r})||null},en=[{name:"flag",label:"Flag",render:e=>{var t;if(null===(t=e.geoip)||void 0===t?void 0:t.country){let t=J.ZP[e.geoip.country.iso_code],r=e.geoip.country.names.fr;return(0,n.jsx)(t,{style:{width:60},title:r})}return null}},{name:"country",label:"Country",render:e=>e.geoip&&e.geoip.country&&e.geoip.country.names&&e.geoip.country.names.fr||"?"},{name:"hostname",label:"Hostname"},{name:"ip",label:"IP"},{name:"city",label:"City",render:e=>e.geoip&&e.geoip.city&&e.geoip.city.names&&e.geoip.city.names.fr||"?"}],ei=e=>{let{endpoints:t}=e,r=[en.map(e=>e.name),...t&&t.map(e=>en.map(t=>t.render?t.render(e):e[t.name]))||[]];return t&&t.length&&(0,n.jsx)(b,{data:r})||null},el=e=>{let{data:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(y.s,{title:(0,n.jsxs)("div",{children:["Cookies",(0,n.jsx)(w.h,{date:t.headers&&t.headers.date,style:{verticalAlign:"middle",paddingLeft:10}})]}),children:[(0,n.jsx)("p",{children:"Cookies d\xe9pos\xe9s par le site web au chargement de la page"}),(0,n.jsx)("br",{}),t.cookies&&t.cookies.length&&(0,n.jsx)(Y,{cookies:t.cookies})||(0,n.jsx)(a.ZP,{severity:"success",title:"",description:"Aucun cookie detect\xe9"})]}),(0,n.jsxs)(y.s,{title:(0,n.jsxs)("div",{children:["Scripts tiers",(0,n.jsx)(w.h,{date:t.headers&&t.headers.date,style:{verticalAlign:"middle",paddingLeft:10}})]}),children:[(0,n.jsx)("p",{children:"Scripts tiers charg\xe9s par la page"}),(0,n.jsx)("br",{}),(t.trackers&&t.trackers.length||t.endpoints&&t.endpoints.length)&&(0,n.jsxs)(n.Fragment,{children:[t.trackers&&t.trackers.length&&(0,n.jsx)(er,{trackers:t.trackers})||null,t.endpoints&&t.endpoints.length&&(0,n.jsx)(ei,{endpoints:t.endpoints})||null]})||(0,n.jsx)(a.ZP,{severity:"success",title:"",description:"Aucun script tiers detect\xe9"})]})]})},ea=[{name:"name",label:"Name"},{name:"categories",label:"Categories",render:e=>{let{categories:t}=e;return t&&t.map(e=>e.name).join(", ")}},{name:"website",label:"Website",render:e=>{let{website:t}=e;return(0,n.jsx)("a",{href:t,target:"_blank",rel:"nopoener noreferrer",children:t})}}],es=e=>{let{data:t}=e,r=[ea.map(e=>e.name),...t.technologies.map(e=>ea.map(t=>t.render?t.render(e):e[t.name]))];return t&&t.technologies&&t.technologies.length&&(0,n.jsx)(y.s,{title:"Wappalyzer",info:"D\xe9tection des technologies utilis\xe9es",children:(0,n.jsx)(b,{data:r})})||null};var eo=r(30798);let ec=(e,t)=>{let r=new Map;return r.set("CRITICAL",3),r.set("HIGH",2),r.set("MODERATE",1),r.set("LOW",0),r.get(t.securityVulnerability.severity)-r.get(e.securityVulnerability.severity)},ed=e=>{let{data:t,url:r}=e,i=t&&t.vulnerabilityAlerts.totalCount>0?t.vulnerabilityAlerts.nodes.filter(e=>!e.dismissedAt):[];return i.sort(ec),i.length>0&&(0,n.jsxs)(y.s,{title:"Alertes Dependabot ".concat(t.url.replace(/^https:\/\/github\.com\/(.*)/,"$1")),url:"".concat(t.url,"/security/dependabot"),urlText:"Alertes dependabot",isExternal:!0,info:(0,n.jsxs)("span",{children:["Vuln\xe9rabilit\xe9s des d\xe9pendances du d\xe9p\xf4t Github"," ",t.url.replace(/^https:\/\/github\.com\/(.*)/,"$1")]}),children:[(0,n.jsxs)("div",{className:d.fr.cx("fr-text--bold"),children:["Scan Summary : ",(0,n.jsx)(_.zj,{label:t.grade})]}),(0,n.jsx)(b,{data:[]})]})||null},eu=(e,t)=>{let r=new Map;return r.set("error",1),r.set("warning",0),r.get(t.rule.severity)-r.get(e.rule.severity)},em=e=>{let{severity:t}=e.rule;return(0,n.jsx)(j.Z,{className:"w-100",severity:"warning"===t?"warning":"error"===t?"error":"info",children:t})},ep=[{name:"severity",label:"S\xe9v\xe9rit\xe9",render:e=>(0,n.jsx)(em,{...e})},{name:"rule",label:"R\xe8gle",render:e=>e.rule.name},{name:"description",label:"Description",render:e=>(0,n.jsx)("a",{target:"_blank",href:e.html_url,rel:"noopener noreferrer",children:e.rule.description})}],ex=e=>{let{data:t,url:r}=e,i=t&&t.alerts.length>0?t.alerts:[];i.sort(eu);let l=[ep.map(e=>e.name),...i.filter((e,t,r)=>!r.slice(t+1).find(t=>t.rule.id===e.rule.id)).map(e=>ep.map(t=>t.render(e)))];return i.length>0&&(0,n.jsxs)(y.s,{title:"CodeScan ".concat(t.url.replace(/^https?:\/\/[^/]+\/(.*)/,"$1")),url:"".concat(t.url,"/security/code-scanning"),urlText:"Alertes CodeQL",isExternal:!0,info:(0,n.jsxs)("span",{children:["Scan statique du code du d\xe9p\xf4t Github"," ",t.url.replace(/^https?:\/\/[^/]+\/(.*)/,"$1")]}),children:[(0,n.jsxs)("div",{className:d.fr.cx("fr-text--bold"),children:["Scan Summary : ",(0,n.jsx)(_.zj,{label:t.grade})]}),(0,n.jsx)(b,{data:l})]})||null};var eh=r(41664),ef=r.n(eh),eg=r(66100);let eb=(e,t)=>e+Number.parseFloat(t.cvss),ej=(e,t)=>t.service.vulnerabilities.reduce(eb,0)-e.service.vulnerabilities.reduce(eb,0),ev=e=>e.vulnerabilities.filter(e=>e.is_exploit).length>0,ey=e=>{let t=e.vulnerabilities.reduce(eb,0),r=!ev(e)&&t>5*e.vulnerabilities.length?"warning":ev(e)&&t>5*e.vulnerabilities.length?"error":"info";return(0,n.jsx)(j.Z,{className:"w-100",severity:r,children:r})},e_=[{name:"severity",label:"S\xe9v\xe9rit\xe9",render:e=>(0,n.jsx)(ey,{...e})},{name:"service",label:"Service \xe0 l'\xe9coute",render:e=>"".concat(e.name," (port:").concat(e.id,")")},{name:"vulnerability",label:"Vuln\xe9rabilit\xe9s",render:e=>e.vulnerabilities.length>0&&(0,n.jsxs)("div",{children:[e.vulnerabilities.length," vuln\xe9rabilit\xe9(s) trouv\xe9e(s) :",(0,n.jsx)("ul",{children:e.vulnerabilities.map(e=>(0,n.jsx)("li",{children:(0,n.jsxs)(ef(),{href:"https://vulners.com/search?query=".concat(encodeURIComponent(e.id)),target:"_blank",children:["1 vuln\xe9rabilit\xe9 de score ",e.cvss]})},e.id))})]})||(0,n.jsx)("div",{style:{textAlign:"center"},children:(0,n.jsx)(_.jb,{})})}],ew=e=>{let{data:t,url:r}=e,i=t&&t.open_ports.length>0?t.open_ports:[];return t.open_ports.sort(ej),t.open_ports.length>0&&(0,n.jsxs)(y.s,{title:"Nmap",children:[(0,n.jsxs)("div",{className:d.fr.cx("fr-text--bold"),children:["Scan Summary : ",(0,n.jsx)(_.zj,{label:t.grade})]}),(0,n.jsx)(b,{data:[e_.map(e=>e.name),...i.map(e=>e_.map(t=>t.render(e.service)))]}),r&&(0,n.jsx)(eg.Z,{linkProps:{href:r,target:"_blank"},children:"Consulter le rapport d\xe9taill\xe9"})]})||null},ek=e=>{let{data:t}=e,r=t&&[["destination"],...t.map(e=>[e.link])];return t&&t.length&&(0,n.jsx)(y.s,{title:"Erreurs 404",info:"Pages introuvables",children:(0,n.jsx)(b,{data:r})})||null},eS="UNKNOWN,LOW,MEDIUM,HIGH,CRITICAL".split(","),eN=(e,t)=>eS.indexOf(t.Severity)-eS.indexOf(e.Severity),eI=e=>{let t=e.Severity;return(0,n.jsx)(j.Z,{className:"w-100",severity:"LOW"===t?"info":"MEDIUM"===t?"info":"HIGH"===t?"warning":"CRITICAL"===t?"error":"info",children:e.Severity})},eA=e=>(t,r,n)=>!n.find((n,i)=>i<r&&n[e]===t[e]),eT=[{name:"Severity",label:"S\xe9v\xe9rit\xe9",render:e=>(0,n.jsx)(eI,{...e})},{name:"VulnerabilityID",label:"Vulnerability ID",render:e=>(0,n.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:e.PrimaryURL,children:e.VulnerabilityID})},{name:"Title",label:"Titre"}],eP=e=>{let{data:t,url:r}=e;return(0,n.jsx)(n.Fragment,{children:t.length>0&&t.filter(e=>e&&e.ArtifactName).map(e=>{let t=e.Results&&e.Results.length&&e.Results.map(e=>e.Vulnerabilities&&e.Vulnerabilities.length||0).reduce((e,t)=>e+t,0)||0;return(0,n.jsxs)(y.s,{isExternal:!0,title:"Image docker ".concat(e.ArtifactName," (").concat(t,")"),info:"Scan de vuln\xe9rabilit\xe9s Trivy",url:r,urlText:"Rapport d\xe9taill\xe9",children:[(0,n.jsx)("h5",{children:e.Target}),t?e.Results.map(e=>{if(e.Vulnerabilities&&e.Vulnerabilities.length){var t;let r=null===(t=e.Vulnerabilities)||void 0===t?void 0:t.sort(eN).filter(eA("VulnerabilityID")).slice(0,10),i=[eT.map(e=>e.name),...r.map(e=>eT.map(t=>t.render?t.render(e):e[t.name]))];return(0,n.jsxs)("div",{children:[(0,n.jsxs)("h6",{children:[e.Target," (",e.Type,")"]}),e.Vulnerabilities.length>10&&(0,n.jsx)(a.ZP,{severity:"error",title:"",description:"Plus de ".concat(10," vuln\xe9rabilit\xe9s d\xe9tect\xe9es, v\xe9rifiez le rapport Trivy")}),(0,n.jsx)(b,{data:i}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)("hr",{})]},e.Target)}}):(0,n.jsx)(a.ZP,{severity:"success",title:"",description:"Aucune vuln\xe9rabilit\xe9 d\xe9tect\xe9e par Trivy"})]},e.ArtifactName)||null})||null})},eC=e=>{let{data:t}=e,r={mention:{"Accessibilit\xe9 : totalement conforme":(0,n.jsx)(a.bZ,{severity:"success",title:"Conformit\xe9 totale \uD83C\uDF89",description:(0,n.jsx)(n.Fragment,{children:"La mention a bien \xe9t\xe9 detect\xe9e : Totalement conforme"})}),"Accessibilit\xe9 : partiellement conforme":(0,n.jsx)(a.bZ,{severity:"success",title:"Conformit\xe9 partielle",description:(0,n.jsx)(n.Fragment,{children:"La mention a bien \xe9t\xe9 detect\xe9e : Partiellement conforme"})}),"Accessibilit\xe9 : non conforme":(0,n.jsx)(a.bZ,{severity:"info",title:"non-conforme",description:(0,n.jsx)(n.Fragment,{children:"La mention a bien \xe9t\xe9 detect\xe9e : Non conforme"})}),null:(0,n.jsx)(a.bZ,{severity:"error",title:"",description:(0,n.jsx)(n.Fragment,{children:"La mention de conformit\xe9 n'a pas \xe9t\xe9 d\xe9tect\xe9e. La mention \xab Accessibilit\xe9 : non conforme \xbb doit \xeatre pr\xe9sente sur chaque page."})})},declaration:{true:(0,n.jsx)(a.bZ,{severity:"success",title:"",description:(0,n.jsxs)(n.Fragment,{children:["La d\xe9claration est disponible sur :"," ",(0,n.jsx)("a",{href:t.declarationUrl,target:"_blank",rel:"noopener noreferrer",children:t.declarationUrl})]})}),false:(0,n.jsx)(a.bZ,{severity:"error",title:"",description:(0,n.jsxs)(n.Fragment,{children:["La d\xe9claration n'a pas \xe9t\xe9 trouv\xe9e. Utilisez le"," ",(0,n.jsx)("a",{href:"https://betagouv.github.io/a11y-generateur-declaration",target:"_blank",rel:"noopener noreferrer",children:"g\xe9n\xe9rateur de d\xe9claration"})," ","pour en cr\xe9er une."]})})}};return t&&(0,n.jsxs)(y.s,{title:"D\xe9claration de mise en accessibilit\xe9",children:[(0,n.jsx)("p",{children:"Une mention de conformit\xe9 pointant sur une d\xe9claration d'accessibilit\xe9 est obligatoire sur les sites et applications de l'\xe9tat"}),(0,n.jsx)("br",{}),r.mention[t.mention||"null"],r.declaration[""+!!t.declarationUrl]]})||null},eF=e=>{let{data:t}=e,r=t&&t.find&&t.find(e=>"ml"===e.slug),i=t&&t.find&&t.find(e=>"pc"===e.slug),l=e=>"ml"===e?(0,n.jsxs)(n.Fragment,{children:["Appliquer le mod\xe8le suivant :"," ",(0,n.jsx)("a",{href:"https://github.com/betagouv/juridiques/blob/main/Mentions-l%C3%A9gales.md",target:"_blank",children:"https://github.com/betagouv/juridiques/blob/main/Mentions-l\xe9gales.md"})]}):"pc"===e?(0,n.jsxs)(n.Fragment,{children:["Rendez vous sur"," ",(0,n.jsx)("a",{href:"https://mattermost.incubateur.net/betagouv/channels/domaine-juridique",target:"_blank",children:"https://mattermost.incubateur.net/betagouv/channels/domaine-juridique"})]}):void 0,s=e=>{let t=[[{name:"word",label:"Tracker manquant"},{name:"resolution",label:"Rem\xe9diation"}].map(e=>e.name),...e.missingTrackers.map((e,t)=>[e,(0,n.jsxs)(n.Fragment,{children:["Vous devez imp\xe9rativement mentionner le tracker ",(0,n.jsx)("b",{children:e})," dans votre politique de confidentialit\xe9."]})])];return(0,n.jsx)("div",{style:{display:"flex"},children:(0,n.jsx)(b,{data:t})})},o=(e,t)=>{let r=l(t),i=[[{name:"word",label:"Mot manquant"},{name:"resolution"}].map(e=>e.name),...e.missingWords.map((e,t)=>[e,r])];return(0,n.jsx)("div",{style:{display:"flex"},children:(0,n.jsx)(b,{data:i})})},c=(e,t)=>e&&e.mention?e.declarationUrl?e.score<e.maxScore?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.bZ,{severity:"info",title:"declaration-ok-incomplete",description:(0,n.jsxs)(n.Fragment,{children:["Votre d\xe9claration a bien \xe9t\xe9 d\xe9tect\xe9e sur :"," ",(0,n.jsx)("a",{href:e.declarationUrl,target:"_blank",rel:"noopener noreferrer",children:e.declarationUrl}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Cependant, certaines informations sont manquantes. Consultez le tableau d\xe9taill\xe9 ci-dessous."]})}),e.missingWords.length?o(e,t):(0,n.jsx)(n.Fragment,{}),e.missingTrackers.length?s(e):(0,n.jsx)(n.Fragment,{})]}):(0,n.jsx)(a.bZ,{severity:"success",title:"declaration-ok",description:(0,n.jsxs)(n.Fragment,{children:["Votre d\xe9claration a bien \xe9t\xe9 d\xe9tect\xe9e sur :"," ",(0,n.jsx)("a",{href:e.declarationUrl,target:"_blank",rel:"noopener noreferrer",children:e.declarationUrl})]})}):(0,n.jsx)(a.bZ,{severity:"error",title:"mention-no-declaration",description:(0,n.jsx)(n.Fragment,{children:"Mention pr\xe9sente mais pas de d\xe9claration d\xe9tect\xe9e"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.bZ,{severity:"error",title:"Erreur",description:(0,n.jsx)(n.Fragment,{children:"Pas de d\xe9claration d\xe9tect\xe9e. "})}),(0,n.jsx)(a.bZ,{severity:"error",title:"D\xe9claration incompl\xe8te",description:(0,n.jsxs)(n.Fragment,{children:[l(t)," "]})})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(y.s,{title:"Mentions l\xe9gales",children:[(0,n.jsx)("p",{children:"Les mentions l\xe9gales sont une page obligatoire qui pr\xe9sente les personnes charg\xe9es de la plateforme"}),(0,n.jsx)("br",{}),c(r,"ml")]}),(0,n.jsxs)(y.s,{title:"Politique de confidentialit\xe9",info:"",children:[(0,n.jsx)("p",{children:"La politique de confidentialit\xe9 pr\xe9sente aux utilisateurs les traitements de donn\xe9es personnelles et les \xe9ventuelles trackers"}),(0,n.jsx)("br",{}),c(i,"pc")]})]})};var eZ=r(86076),eE=r(52790),eO=r(237),eL=r.n(eO),eD=r(59455);let eR=e=>{var t,r,i,l,a,s,o,c;let{report:u,url:m}=e,p=Array.isArray(u.lhr)?u.lhr:[u.lhr],x=p&&p.length&&p[0]&&p[0].fetchTime,h=eD.jk&&(null===(t=eD.jk.find(e=>e.url===m&&(null==e?void 0:e.title)))||void 0===t?void 0:t.title);return(0,n.jsxs)("div",{className:d.fr.cx("fr-mb-5w"),style:{position:"relative"},children:[(0,n.jsx)("h1",{className:d.fr.cx("fr-mb-2w"),children:(0,n.jsx)("a",{href:m,rel:"noreferrer noopener",target:"_blank",children:m})}),(null===(i=u.betagouv)||void 0===i?void 0:null===(r=i.attributes)||void 0===r?void 0:r.pitch)&&(0,n.jsx)("div",{children:null===(a=u.betagouv)||void 0===a?void 0:null===(l=a.attributes)||void 0===l?void 0:l.pitch}),h&&(0,n.jsx)("div",{children:h}),(0,n.jsxs)("div",{className:d.fr.cx("fr-mt-1w"),children:[x&&(0,n.jsxs)(j.Z,{severity:"warning",noIcon:!0,as:"span",style:{verticalAlign:"top",marginRight:10},children:[(0,n.jsx)("i",{className:d.fr.cx("fr-icon-time-fill","fr-icon--sm","fr-mr-1v"),title:"Mis \xe0 jour il y a ".concat((0,eZ.Z)(new Date(x),{locale:eE.Z}))}),(0,eZ.Z)(new Date(x),{locale:eE.Z})]}),u.category&&(0,n.jsx)(ef(),{href:"/category/".concat(u.category),className:"link-discreet",title:"Voir toutes les URLs de la cat\xe9gorie ".concat(u.category),children:(0,n.jsx)(j.Z,{severity:"success",style:{verticalAlign:"top",marginRight:10},children:u.category})}),u.tags&&u.tags.map(e=>(0,n.jsx)(ef(),{href:"/tag/".concat(e),className:"link-discreet",title:"Voir toutes les URLs du tag ".concat(e),children:(0,n.jsx)(j.Z,{severity:"info",style:{verticalAlign:"top",marginRight:10},children:e})},e)),(null===(s=u.betagouv)||void 0===s?void 0:s.id)&&(0,n.jsx)(ef(),{href:"https://beta.gouv.fr/startups/".concat(null===(o=u.betagouv)||void 0===o?void 0:o.id,".html"),className:"link-discreet",title:"Acc\xe9der \xe0 la fiche beta.gouv.fr de ".concat(null===(c=u.betagouv)||void 0===c?void 0:c.id),children:(0,n.jsx)(j.Z,{severity:"info",style:{verticalAlign:"top",marginRight:10},children:"fiche beta.gouv.fr"})})]}),(0,v.y$)("screenshot",u.url)&&u.screenshot&&(0,n.jsx)("img",{className:eL().screenshotImg,alt:"Copie d'\xe9cran de ".concat(m),src:"".concat("","/report/").concat((0,v.r3)(m),"/screenshot.jpeg")})]})},ez={A:"La page a bien \xe9t\xe9 d\xe9tect\xe9e : ",B:"La page a bien \xe9t\xe9 d\xe9tect\xe9e : ",C:"La page a bien \xe9t\xe9 d\xe9tect\xe9e : "},eM=e=>{let{data:t,url:r}=e,i=ez[t.grade];return i?(0,n.jsx)(a.ZP,{severity:"success",title:"",description:(0,n.jsxs)(n.Fragment,{children:[i,(0,n.jsx)("a",{href:r,children:r})]})}):(0,n.jsx)(a.ZP,{severity:"error",title:"",description:"La page n'a pas \xe9t\xe9 d\xe9tect\xe9e! Ajoutez-la sur ".concat(r)})};var eV=r(49269);let eq=e=>{let{url:t,data:r}=e;return(0,n.jsxs)(y.s,{title:"Ouverture du code source",children:[(0,n.jsx)("p",{children:"Publication du code-source du produit."}),(0,n.jsx)("br",{}),(0,n.jsx)(a.ZP,{severity:"A"===r.grade?"success":"error",title:"A"===r.grade?(0,n.jsxs)(n.Fragment,{children:["Le d\xe9p\xf4t de code est ouvert :"," ",(0,n.jsx)("a",{href:t,target:"_blank",children:t})]}):"Le d\xe9p\xf4t de code n'existe pas ou n'est pas ouvert."})]})};var eH=r(72976);let eU=e=>{let{ges:t,h2o:r,visits:i=1e3}=e,l=t*i/1e3,a=r*i/100,s=a/6,o=s>=60?"".concat(Math.floor(s/60)," heure(s) et ").concat(s%60," minute(s)"):"".concat((s%60).toFixed(1)," minute(s)"),c="".concat((l/(1/3)).toFixed(1)," kilom\xe8tres");return(0,n.jsxs)(eH.Z,{title:"\xc7a veut dire quoi ?",children:["Pour vous donner une id\xe9e, 1 kg CO2e \xe9quivaut \xe0 un trajet d’environ 3 km en voiture. Une douche consomme en moyenne 6 litres d’eau \xe0 la minute.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Si votre page \xe9met ",t,"g CO2e et consomme ",r,"cl d’eau, cela signifie que pour ",i," visites mensuelles de cette page, l’empreinte sera de"," ",l," kg(s) de CO2e et ",a," litre(s) d’eau par mois",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("strong",{children:["Soit pour ",i," visites : un trajet de ",c," en voiture ou ",o," de douche."]})]})},eW=e=>{let{data:t}=e,r=t.length&&t[0]||null;if(!r)return null;let i=r.ges,l=r.water;return t&&i&&l&&(0,n.jsxs)(y.s,{title:"Eco-index",info:"Score eco-index d'apr\xe8s green-it",url:"https://www.ecoindex.fr/comment-ca-marche/",urlText:"Qu'est-ce que l'\xe9co index ?",isExternal:!0,children:[(0,n.jsx)(_.zj,{label:r.grade}),"\xa0",(0,n.jsx)(_.zj,{severity:(0,v.GI)(r.grade),label:"".concat(r.score,"/100")}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("h5",{children:["GES: ",i," gramme(s) par visite"]}),(0,n.jsxs)("h5",{children:["Eau : ",l," cl par visite"]})," ",(0,n.jsx)("br",{}),(0,n.jsx)(eU,{ges:i,h2o:l,visits:1e3})]})||null},eG=[{name:"badge",label:"Score",render:e=>"qualityGateStatus"===e.name?"ERROR"===e.value?(0,n.jsx)(_.zj,{label:"F"}):"OK"===e.value?(0,n.jsx)(_.zj,{label:"A"}):void 0:"vulnerabilities"===e.name?e.value>10?(0,n.jsx)(_.zj,{label:"F"}):e.value>5?(0,n.jsx)(_.zj,{label:"C"}):e.value>1?(0,n.jsx)(_.zj,{label:"B"}):(0,n.jsx)(_.zj,{label:"A"}):e.value>100?(0,n.jsx)(_.zj,{label:"F"}):e.value>50?(0,n.jsx)(_.zj,{label:"D"}):e.value>0?(0,n.jsx)(_.zj,{label:"B"}):(0,n.jsx)(_.zj,{label:"A"})},{name:"name",label:"Indicateur"},{name:"value",label:"R\xe9sultat"}],eX=e=>{let{data:t}=e;return(0,n.jsx)(n.Fragment,{children:t&&t.length&&t.map(e=>{let t=Object.entries(e.result.status).map(e=>{let[t,r]=e;return{name:t,value:r}},[]),r=[eG.map(e=>e.name),...t.map(e=>eG.map(t=>t.render?t.render(e):e[t.name]))];return(0,n.jsx)(y.s,{title:"Qualim\xe9trie SonarCloud ".concat(e.repo),url:"https://sonarcloud.io/project/overview?id=".concat(e.repo.replace("/","_")),urlText:"Rapport d\xe9taill\xe9",isExternal:!0,children:(0,n.jsx)(b,{data:r})},e.repo)})||null})},eB=e=>{let{data:t,url:r}=e;return null===t?null:(0,n.jsxs)(y.s,{title:"Syst\xe8me de design de l'\xe9tat",children:[(0,n.jsxs)("p",{children:["D\xe9tection du syst\xe8me de design de l'\xe9tat avec la balise 'fr-header__brand'"," "]}),(0,n.jsx)("br",{}),!0===t.detected&&(0,n.jsx)(a.ZP,{severity:"success",title:"",description:(0,n.jsxs)(n.Fragment,{children:["Le syst\xe8me de design de l'\xe9tat a bien \xe9t\xe9 d\xe9tect\xe9 sur"," ",(0,n.jsx)("a",{href:r,target:"_blank",children:r})]})}),!1===t.detected&&(0,n.jsx)(a.ZP,{severity:"error",title:"",description:"Le syst\xe8me de design de l'\xe9tat n'a pas \xe9t\xe9 d\xe9tect\xe9 sur ".concat(r,". (balise fr-header__brand")})]})},eK=e=>{let{id:t}=e;return(0,n.jsx)("div",{id:t})},e$=[{label:"Bonnes pratiques",id:"best-practices",icon:"fr-icon-thumb-up-line",items:[{id:"lighthouse",reportKey:"lhr",render:(e,t)=>(0,n.jsx)(O,{data:e.lhr,url:"".concat("","/report/").concat((0,v.r3)(t))})},{id:"dsfr",reportKey:"dsfr",render:(e,t)=>(0,n.jsx)(eB,{data:e.dsfr,url:t})},{id:"ecoindex",reportKey:"ecoindex",render:(e,t)=>(0,n.jsx)(eW,{data:e.ecoindex})},{id:"thirdparties",render:e=>(0,n.jsx)(el,{data:e.thirdparties})},{id:"stats",render:(e,t)=>e.stats&&e.betagouv?(0,n.jsxs)(y.s,{title:"Page de statistiques",children:[(0,n.jsx)("p",{children:"Cette page permet de publier vos mesures d'impact"}),(0,n.jsx)("br",{}),(0,n.jsx)(eM,{data:e.stats,url:e.betagouv.attributes.stats_url})]}):null},{id:"budget_page",render:(e,t)=>e.budget_page&&e.betagouv?(0,n.jsxs)(y.s,{title:"Page de budget",children:[(0,n.jsx)("p",{children:"Cette page permet de publier votre budget"}),(0,n.jsx)("br",{}),(0,n.jsx)(eM,{data:e.budget_page,url:e.betagouv.attributes.budget_url})]}):null},{id:"declaration-a11y",render:(e,t)=>(0,n.jsx)(eC,{data:e["declaration-a11y"]})},{id:"declaration-rgpd",render:(e,t)=>(0,n.jsx)(eF,{data:e["declaration-rgpd"]})},{id:"404",render:(e,t)=>(0,n.jsx)(ek,{data:e["404"]})},{id:"github_repository",render:e=>e.github_repository&&e.betagouv&&(0,n.jsx)(eq,{url:e.betagouv.attributes.repository,data:e.github_repository})}]},{label:"Disponibilit\xe9",id:"disponibilite",icon:"fr-icon-time-line",items:[{id:"updownio",render:(e,t)=>(0,n.jsx)(eo.s,{data:e.updownio,url:t})}]},{label:"S\xe9curit\xe9",id:"securite",icon:"fr-icon-lock-line",items:[{id:"nmap",render:(e,t)=>(0,n.jsx)(ew,{data:e.nmap,url:"".concat("","/report/").concat((0,v.r3)(t),"/nmapvuln.html")})},{id:"http",render:(e,t)=>(0,n.jsx)(I,{data:e.http})},{id:"testssl",render:(e,t)=>(0,n.jsx)($,{data:e.testssl,url:"".concat("","/report/").concat((0,v.r3)(t),"/testssl.html")})},{id:"dependabot",render:(e,t)=>e.dependabot.repositories&&e.dependabot.repositories.filter(Boolean).map(e=>(0,n.jsx)(ed,{data:e,url:t},e.url))},{id:"codescan",render:(e,t)=>e.codescan.repositories&&e.codescan.repositories.filter(Boolean).map(e=>(0,n.jsx)(ex,{data:e,url:t},e.url))},{id:"zap",render:(e,t)=>(0,n.jsx)(U,{data:e.zap,url:"".concat("","/report/").concat((0,v.r3)(t),"/zap.html")})},{id:"nuclei",render:(e,t)=>(0,n.jsx)(M,{data:e.nuclei})},{id:"trivy",render:(e,t)=>e.trivy.length&&(0,n.jsx)(eP,{data:e.trivy,url:"".concat("","/report/").concat((0,v.r3)(t),"/trivy.json")})||null},{id:"sonarcloud",render:(e,t)=>e.sonarcloud.length&&(0,n.jsx)(eX,{data:e.sonarcloud})||null}]},{label:"Informations",id:"informations",icon:"fr-icon-info-line",items:[{id:"wappalyzer",render:e=>(0,n.jsx)(es,{data:e.wappalyzer})},{id:"betagouv",render:e=>(0,n.jsx)(eV.fJ,{data:e.betagouv})}]}],eJ=e=>{let{url:t,report:r,selectedTab:i="best-practices"}=e,l=(0,o.useRouter)();s.useEffect(()=>{let e=document.location.hash.split("#");if(3===e.length){let t=document.getElementById(e[2]);t&&t.scrollIntoView()}},[r]);let c=(0,s.useMemo)(()=>e$.map(e=>{let l=i===e.id,s=l&&e.items.filter(e=>r&&!!r[e.reportKey||e.id]&&(0,v.y$)(e.id)).map(e=>(0,n.jsxs)("div",{children:[(0,n.jsx)(eK,{id:e.id}),e.render(r,t)]},e.id));return{tabId:e.id,label:e.label,iconId:e.icon,content:s&&s.length?s:(0,n.jsx)(a.ZP,{severity:"error",title:"warn-no-info",description:(0,n.jsx)(n.Fragment,{children:"Aucune information trouv\xe9e dans cette cat\xe9gorie"})}),isDefault:l}}),[i,t]);if(!r)return(0,n.jsxs)("div",{children:["No data available for",t]});let d=c.find(e=>e.tabId===i).content;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eR,{report:r,url:t}),(0,n.jsx)(f,{selectedTabId:i,onTabChange:e=>{l.push("/url/".concat((0,v.N0)(t),"/").concat(e))},tabs:c,children:d})]})};var eQ=!0,eY=e=>{let{report:t,url:r,selectedTab:i}=e;return t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l(),{children:(0,n.jsxs)("title",{children:[(0,v.p5)(r)," - ",eD.TN]})}),(0,n.jsx)(eJ,{url:r,report:t,selectedTab:i})]}):(0,n.jsx)(a.ZP,{severity:"error",title:"Impossible de trouver le rapport"})}},47726:function(e,t,r){"use strict";r.d(t,{h:function(){return d}});var n=r(85893),i=r(20884),l=r(9289),a=r(86076),s=r(88801),o=r(52790),c=r(48323);let d=e=>{let{date:t,style:r}=e;if(!t)return;let d=new Date(t),u=(0,i.Z)(new Date,d),m="info";return u>60?m="error":u>30&&(m="warning"),(0,n.jsxs)(c.Z,{severity:m,noIcon:!0,as:"span",style:{verticalAlign:"top",...r},children:[(0,n.jsx)("i",{className:s.fr.cx("fr-icon-time-fill","fr-icon--sm","fr-mr-1v"),title:"Mis \xe0 jour le ".concat((0,l.Z)(new Date(d),"dd/M/yyyy"))}),(0,a.Z)(new Date(d),{locale:o.Z})]})}},49269:function(e,t,r){"use strict";r.d(t,{fJ:function(){return h},ks:function(){return f},uz:function(){return g},vh:function(){return x}});var n=r(85893);r(67294);var i=r(14313);r(86575);var l=r(55484),a=r(77662),s=r(29933),o=r(47811),c=r(41027),d=r(13777),u=r(9289),m=r(52790),p=r(62319);let x=e=>{let t=e.sort(j);return t.length?b(t[t.length-1].name):{id:"-",label:"-",index:0}},h=e=>{let{data:t}=e,r=t.attributes.phases.sort(j);return(0,n.jsx)(p.s,{title:"Phases de la SE",children:(0,n.jsx)(i.VerticalTimeline,{lineColor:"var(--text-action-high-blue-france)",children:r.map(e=>{let t=b(e.name);return(0,n.jsxs)(i.VerticalTimelineElement,{className:"vertical-timeline-element--work",contentStyle:{background:"var(--background-default-grey)",color:"var(--text-default-grey)"},contentArrowStyle:{borderRight:"7px solid  var(--background-default-moutarde-active)"},iconStyle:{background:"var(--background-default-grey)",color:"var(--text-action-high-blue-france)"},icon:(0,n.jsx)(t.icon,{}),children:[(0,n.jsx)("h3",{className:"vertical-timeline-element-title",style:{color:"var(--text-action-high-blue-france)"},children:t.label}),(0,n.jsx)("h6",{className:"vertical-timeline-element-subtitle",style:{color:"var(--text-action-high-blue-france)"},children:e.start&&(0,u.Z)(new Date(e.start),"PPP",{locale:m.Z})}),(0,n.jsx)("p",{style:{color:"var(--text-action-high-blue-france)"},children:t.description})]},e.name)})})})},f=[{id:"investigation",label:"Investigation",description:"Phase exp\xe9rimentale faite de tests et d’apprentissages terrain dans laquelle l’\xe9quipe cherche \xe0 se confronter \xe0 de premiers utilisateurs d\xe8s que possible.",icon:l.Z,index:1},{id:"construction",label:"Construction",description:"Constituer son \xe9quipe et d\xe9velopper son produit en produisant la premi\xe8re version de la solution sur un terrain d’exp\xe9rimentation.",icon:a.Z,index:2},{id:"acceleration",label:"Acc\xe9l\xe9ration",description:"Avoir un produit fini d\xe9ploy\xe9 au niveau national.",icon:s.Z,index:3},{id:"success",label:"Succ\xe8s",icon:o.Z,index:4},{id:"transfer",label:"Transfert",description:"Cr\xe9er les conditions de la reprise en assurant la p\xe9rennit\xe9 du projet au sein de son administration d'origine.",icon:c.Z,index:5},{id:"alumni",label:"Partenariat termin\xe9",icon:d.Z,index:6}],g={accélération:"info",construction:"warning","partenariat termin\xe9":"error",transfert:"success",succès:"success"},b=e=>f.find(t=>t.id===e),j=(e,t)=>e.start===t.start?f.find(t=>t.id===e.name).index-f.find(e=>e.id===t.name).index:new Date(e.start).getTime()-new Date(t.start).getTime()},25046:function(e,t,r){"use strict";r.d(t,{a:function(){return s}});var n=r(85893);r(67294);var i=r(5152);let l=r.n(i)()(()=>r.e(429).then(r.bind(r,22429)),{loadableGenerated:{webpack:()=>[22429]},ssr:!1}),a=["#ff6666","#ffce00","#00b353"],s=e=>{let t=[...e.segmentColors||a];return e.reverseColors&&t.reverse(),(0,n.jsx)("div",{style:{background:"var(--background-contrast-grey)"},children:(0,n.jsx)(l,{forceRender:!0,...e,segmentColors:t})})}},24895:function(e,t,r){"use strict";r.d(t,{jb:function(){return o},zj:function(){return d}});var n=r(85893),i=r(48323),l=r(88801),a=r(41664),s=r.n(a);let o=()=>(0,n.jsx)("i",{className:l.fr.cx("ri-forbid-2-line")}),c={A:"success",B:"info",C:"info",D:"warning",E:"warning",F:"error",G:"error"},d=e=>{let{label:t,severity:r,showCheckOnSuccess:a=!1,showWarningOnError:d=!1,hideLabelOnWarning:u=!1,title:m,warning:p,linkProps:x,style:h}=e,f=p?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("i",{className:l.fr.cx("fr-icon-warning-line"),title:p,style:{cursor:"pointer"}})}):"",g=t&&t.toString().match(/^[\d]+$/),b=t&&!g&&t.length<3&&t.toString().substring(0,1).toUpperCase()||"F",j=t&&g?t:"A"===b&&a?(0,n.jsx)("i",{className:l.fr.cx("fr-icon-check-line")}):"F"===b&&d?(0,n.jsx)("i",{className:l.fr.cx("fr-icon-warning-line"),title:p,style:{cursor:"pointer"}}):t,v=(0,n.jsxs)(n.Fragment,{children:[u&&f?null:j,f]}),y=r||c[b]||"info",_={fontSize:"1em",width:100,textAlign:"center",display:"inline-block",...h},w=(0,n.jsx)(i.Z,{severity:y,style:_,noIcon:!0,children:v});return t?x?(0,n.jsx)(s(),{title:m,...x,className:"link-discreet",children:w}):w:(0,n.jsx)(o,{})}},62319:function(e,t,r){"use strict";r.d(t,{s:function(){return l}});var n=r(85893);r(67294);var i=r(72976);let l=e=>{let{title:t,children:r,url:l=null,urlText:a=null,titleAs:s="h2",target:o="_blank"}=e;return(0,n.jsx)(i.Z,{buttonProps:l&&{children:a||"En savoir plus",linkProps:{href:l,target:o}}||void 0,title:t,titleAs:s,children:r})}},30798:function(e,t,r){"use strict";r.d(t,{s:function(){return b}});var n=r(85893);r(67294);var i=r(29031),l=r(9289),a=r(52790),s=r(62319),o=r(25046),c=r(24895),d=r(83397),u=r(6152),m=r.n(u),p=r(88801),x=r(47726);let h="Disponibilit\xe9 et temps de r\xe9ponse",f="Informations collect\xe9es par updown.io",g=e=>{let{children:t,title:r,value:i}=e;return(0,n.jsxs)("div",{className:"".concat(m().metric," ").concat(p.fr.cx("fr-col-4")),children:[t,r&&(0,n.jsx)("div",{className:m().metricTitle,children:r}),i&&(0,n.jsx)("div",{className:m().metricValue,children:i})]})},b=e=>{var t;let{data:r,url:u,title:b}=e,j=r&&"https://updown.io/".concat(r.token)||null;return j&&(0,d.p5)(r.url)===(0,d.p5)(u)&&(0,n.jsxs)(s.s,{title:(0,n.jsxs)("div",{children:[b||h,(0,n.jsx)(x.h,{date:r.last_check_at,style:{verticalAlign:"middle",paddingLeft:10}})]}),info:f,url:j,urlText:"Statistiques d\xe9taill\xe9es",isExternal:!0,children:[(0,n.jsxs)("div",{className:p.fr.cx("fr-grid-row","fr-grid-row--gutters","fr-mt-3w"),children:[(0,n.jsx)(g,{title:"Taux de disponibilit\xe9 sur un mois glissant",value:"".concat(r.uptime,"%"),children:(0,n.jsx)(o.a,{width:200,height:120,value:r.uptime,minValue:0,maxValue:100,segments:3,currentValueText:""})}),(null==r?void 0:null===(t=r.metrics)||void 0===t?void 0:t.apdex)!==void 0&&(0,n.jsx)(g,{title:"APDEX: Application Performance Index",value:"".concat(r.metrics.apdex),children:(0,n.jsx)(o.a,{width:200,height:120,value:r.metrics.apdex,minValue:0,maxValue:1,segments:3,currentValueText:""})}),r.metrics&&r.metrics.timings&&(0,n.jsx)(g,{title:"Temps de r\xe9ponse",value:"".concat(r.metrics.timings.total,"ms"),children:(0,n.jsx)(o.a,{width:200,height:120,value:Math.max(0,r.metrics.timings.total),minValue:0,maxValue:1e3,customSegmentStops:[0,150,500,1e3],reverseColors:!0,currentValueText:""})})]}),(0,n.jsx)("div",{className:m().left,children:(0,n.jsx)("div",{className:"fr-mb-3w",children:r.ssl&&(0,n.jsxs)("div",{style:{padding:10},children:[(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Le certificat SSL est"," ",r.ssl.valid?(0,n.jsx)(c.zj,{label:"valide",severity:"success"}):(0,n.jsx)(c.zj,{label:"invalide",severity:"error"})," ","et expire le"," ",(0,n.jsx)("strong",{children:(0,l.Z)(new Date(r.ssl.expires_at),"dd/MM/yyyy",{locale:a.Z})})]})})})]})||(0,n.jsx)(s.s,{title:b||h,info:f,children:(0,n.jsx)(i.ZP,{className:p.fr.cx("fr-mt-3w"),severity:"info",title:"Donn\xe9es absentes",description:"Aucune donn\xe9e updown.io associ\xe9e"})})}},34728:function(e){e.exports={accesibility:"lightHouse_accesibility__SA6R8"}},6152:function(e){e.exports={center:"updownIo_center__HAI8F",left:"updownIo_left__JLE5I",expiration:"updownIo_expiration__MXPXG",metric:"updownIo_metric__B3jMp",metricValue:"updownIo_metricValue__Vxy2l",metricTitle:"updownIo_metricTitle__39ahs"}},237:function(e){e.exports={badge:"url_badge__VhFnU",clockIcon:"url_clockIcon__cfly0",clock:"url_clock__ig2xS",screenshotImg:"url_screenshotImg__JlxR7"}}},function(e){e.O(0,[6,599,615,403,888,774,179],function(){return e(e.s=50415)}),_N_E=e.O()}]);